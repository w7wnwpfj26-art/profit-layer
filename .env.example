# ============================================
# Nexus Yield - Environment Configuration (Example)
# ============================================
# 1. Copy this file to .env:  cp .env.example .env
# 2. Fill in your keys and secrets below.
# 3. NEVER commit .env to Git (it is in .gitignore).

# --- Database ---
# 方案一: 本地 Docker TimescaleDB
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_DB=defi_yield
POSTGRES_USER=defi
POSTGRES_PASSWORD=change_me_in_production

# 方案二: Supabase 云数据库（推荐）
# 在 https://supabase.com 创建项目后，从 Project Settings > Database 获取连接信息
# POSTGRES_HOST=db.xxxxxxxxxxxx.supabase.co
# POSTGRES_PORT=6543           # Session Pooler 端口
# POSTGRES_DB=postgres
# POSTGRES_USER=postgres.xxxxxxxxxxxx
# POSTGRES_PASSWORD=your_supabase_password
# POSTGRES_SSL=true            # Supabase 必须启用 SSL

# --- Redis ---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# --- Chain RPC Endpoints ---
# EVM Chains
ETH_RPC_URL=https://eth.llamarpc.com
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
BSC_RPC_URL=https://bsc-dataseed.binance.org
POLYGON_RPC_URL=https://polygon-rpc.com
BASE_RPC_URL=https://mainnet.base.org
OPTIMISM_RPC_URL=https://mainnet.optimism.io
AVALANCHE_RPC_URL=https://api.avax.network/ext/bc/C/rpc

# Aptos
APTOS_RPC_URL=https://fullnode.mainnet.aptoslabs.com/v1

# Solana
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# Sui
SUI_RPC_URL=https://fullnode.mainnet.sui.io

# --- Wallet (KEEP SECRET!) ---
# EVM_PRIVATE_KEY=0x...
# APTOS_PRIVATE_KEY=0x...
# SOLANA_PRIVATE_KEY=base58...
WALLET_ENCRYPTION_KEY=change_me_32_char_key_here_!!!!!
# EXECUTOR_EVM_PRIVATE_KEY=0x...
# EXECUTOR_APTOS_PRIVATE_KEY=0x...
# EXECUTOR_SOLANA_PRIVATE_KEY=base58...

# --- API Keys (optional) ---
# DEFILLAMA_API_KEY=          # Optional: for premium DefiLlama API
# ONEINCH_API_KEY=            # 1inch aggregator (https://portal.1inch.dev)
# ETHERSCAN_API_KEY=          # etherscan.io (for wallet token discovery)
# ARBISCAN_API_KEY=           # arbiscan.io
# BASESCAN_API_KEY=           # basescan.org
# POLYGONSCAN_API_KEY=        # polygonscan.com
# BSCSCAN_API_KEY=            # bscscan.com
# TENDERLY_ACCESS_KEY=        # For tx simulation
# OKX_API_KEY=                # OKX CEX (API 管理创建，仅读+交易)
# OKX_SECRET_KEY=
# OKX_PASSPHRASE=

# --- AI Engine ---
AI_ENGINE_HOST=localhost
AI_ENGINE_PORT=8000
AI_ENGINE_URL=http://localhost:8000

# --- AI 顾问 (LLM) ---
# 推荐使用 DeepSeek（成本低、数学推理强、中文友好）
# 注册获取 API Key: https://platform.deepseek.com
DEEPSEEK_API_KEY=                    # DeepSeek API Key
AI_MODEL=deepseek-chat               # 可选: deepseek-chat / deepseek-reasoner / gpt-4o
AI_BASE_URL=https://api.deepseek.com # 可选: https://api.openai.com/v1

# --- Scanner ---
LOG_LEVEL=INFO
SCAN_INTERVAL_MS=300000       # 5 minutes
MIN_TVL_USD=100000            # Minimum $100k TVL to track
MIN_APR_PCT=1.0               # Minimum 1% APR to track

# --- Risk Management ---
MAX_SINGLE_TX_USD=10000       # Max $10k per transaction
MAX_DAILY_TX_USD=50000        # Max $50k per day
STOP_LOSS_PCT=10              # 10% stop loss trigger
KILL_SWITCH=false             # Emergency stop all operations

# --- AutoPilot (全自动模式) ---
AUTOPILOT_ENABLED=false           # 设为 true 启动全自动交易
AUTOPILOT_DRY_RUN=true            # 设为 false 执行真实交易（危险！）
AUTOPILOT_CYCLE_MS=3600000        # AI 周期间隔（毫秒），默认 1 小时，不设则用 SCAN_INTERVAL_MS
TOTAL_CAPITAL_USD=10000           # 总投资金额

# --- Executor 滑点（减少 SlippageExceeded 失败） ---
EXECUTOR_SLIPPAGE_PCT=2.0         # deposit/withdraw 默认滑点 %
EXECUTOR_SWAP_SLIPPAGE_PCT=1.5    # DEX 兑换滑点 %

# --- DEX 聚合器 ---
# ONEINCH_API_KEY=                # 1inch API Key (https://portal.1inch.dev)

# --- Notifications ---
TELEGRAM_BOT_TOKEN=                  # Telegram Bot Token (从 @BotFather 获取)
TELEGRAM_CHAT_ID=                    # 接收通知的 Chat ID
ALERT_WEBHOOK_URL=                   # Webhook 告警地址（如飞书/钉钉/Slack）

# --- Auth ---
JWT_SECRET=change_me_jwt_secret_here # JWT 签名密钥

# --- Dashboard ---
DASHBOARD_PORT=3002
